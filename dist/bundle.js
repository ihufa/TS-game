!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){},function(e,t,n){"use strict";n.r(t);var o="#00ff00",r={pngs:[],units:[{player:"PLAYER1",name:"test1",type:"marine",x:300,y:600,xvel:0,yvel:0,radius:20,color:o,moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{player:"PLAYER1",name:"test2",type:"marine",x:400,y:600,xvel:0,yvel:0,radius:20,color:o,moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{player:"PLAYER1",name:"test3",type:"marine",x:500,y:600,xvel:0,yvel:0,radius:20,color:o,moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{player:"PLAYER1",name:"test4",type:"marine",x:600,y:600,xvel:0,yvel:0,radius:20,color:o,moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{player:"PLAYER1",name:"test5",type:"marine",x:700,y:600,xvel:0,yvel:0,radius:20,color:o,moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0}],buildings:[{player:"PLAYER1",name:"test0",type:"commandCenter",x:400,y:200,sizex:30,sizey:40,color:"#ff0000"}],selectedBuildings:[],preSelectedBuildings:[],selectedUnits:[],preSelectedUnits:[]},a=function(e,t){if(0===e&&0===t)return 0;return t>0&&e>0?t/e>3?0:t/e<1/3?6:7:t<0&&e>0?t/e<-3?4:t/e>-1/3?6:5:t<0&&e<0?t/e<1/3?2:t/e>3?4:3:t>0&&e<0?t/e>-1/3?2:t/e<-3?0:1:void 0};var i=function(e,t){for(var n=0;n<t.length;n++)if(t[n].name!==e.name&&Math.sqrt(Math.pow(t[n].x-(e.x+e.xvel),2)+Math.pow(t[n].y-(e.y+e.yvel),2))<t[n].radius+e.radius)return!0;return!1};n(0);var l=document.querySelector("#root"),c=l.getContext("2d"),d={ctx:c,height:l.height,width:l.width},u={xStart:0,yStart:0,xEnd:0,yEnd:0},s=Date.now(),m=0,f=0,y=function(){!function(e,t){function n(i){e.removeEventListener("mouseup",n,!1),e.removeEventListener("mousemove",o,!1);var l=t.xStart,c=t.xEnd,d=t.yStart,u=t.yEnd,s=l<c?l:c,m=l<c?c:l,f=d<u?d:u,y=d<u?u:d;r.selectedUnits=r.units.filter((function(e){return e.x>s&&e.x<m&&e.y>f&&e.y<y})),r.preSelectedUnits=[],t.xStart=0,t.yStart=0,t.xEnd=0,t.yEnd=0,r.selectedUnits.length&&e.addEventListener("mousedown",a,!1)}function o(e){t.xEnd=e.clientX,t.yEnd=e.clientY;var n=t.xStart,o=t.xEnd,a=t.yStart,i=t.yEnd,l=n<o?n:o,c=n<o?o:n,d=a<i?a:i,u=a<i?i:a;r.preSelectedUnits=r.units.filter((function(e){return e.x>l&&e.x<c&&e.y>d&&e.y<u}))}function a(t){2===t.button?r.selectedUnits.forEach((function(e){var n=e.x-t.clientX,o=e.y-t.clientY;Math.abs(n)>Math.abs(o)?(e.xvel=-n/Math.abs(n),e.yvel=-o/Math.abs(n)):(e.xvel=-n/Math.abs(o),e.yvel=-o/Math.abs(o)),e.moveCommand=!0,e.gotoX=t.clientX,e.gotoY=t.clientY})):e.removeEventListener("mousedown",a,!1)}window.oncontextmenu=function(){return!1},e.addEventListener("mousedown",(function(r){0===r.button&&(t.xStart=r.clientX,t.yStart=r.clientY,t.xEnd=r.clientX,t.yEnd=r.clientY,e.addEventListener("mouseup",n,!1),e.addEventListener("mousemove",o,!1))}),!1)}(l,u)},v=function(){var e,t,n,o=Date.now();m=(o-s)/1e3,Math.floor(m/.01)>f&&(f++,c.fillStyle="#000000",c.fillRect(0,0,l.width,l.height),function(e){for(var t=e.filter((function(e){return 0!==e.xvel||0!==e.yvel})),n=0;n<t.length;n++){Math.pow(t[n].x-t[n].gotoX,2)+Math.pow(t[n].y-t[n].gotoY,2)<100&&(t[n].xvel=0,t[n].yvel=0,t[n].moveCommand=!1);var o=i(t[n],e);!o&&t[n].moveCommand&&(t[n].x=t[n].x+t[n].xvel,t[n].y=t[n].y+t[n].yvel),o&&t[n].moveCommand&&(t[n].moveCommand=!1),o||t[n].moveCommand||(t[n].moveCommand=!0)}}(r.units),t=u,n=(e=d).ctx,e.width,e.height,r.buildings.forEach((function(e){n.drawImage(r.pngs.filter((function(t){return t.name===e.type}))[0].element,e.x,e.y)})),r.units.forEach((function(e){n.drawImage(r.pngs.filter((function(t){return t.name===e.type}))[0].element,50*a(e.xvel,e.yvel),0,50,49,e.x-25,e.y-25,50,49)})),r.selectedBuildings.forEach((function(e){n.beginPath(),n.arc(e.x+.5*e.sizex,e.y+.5*e.sizey,(e.sizex+e.sizey)/2,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=2,n.stroke()})),r.preSelectedBuildings.forEach((function(e){n.beginPath(),n.arc(e.x+.5*e.sizex,e.y+.5*e.sizey,(e.sizex+e.sizey)/2,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=1,n.stroke()})),r.selectedUnits.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.radius+5,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=2,n.stroke()})),r.preSelectedUnits.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.radius+5,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=1,n.stroke()})),n.strokeStyle=" #00ff00",n.strokeRect(t.xStart,t.yStart,t.xEnd-t.xStart,t.yEnd-t.yStart)),window.requestAnimationFrame(v)},x=function(){v(),y()};!function(e){for(var t=0,n=function(n){var o={name:e[n].name,element:new Image};o.element.addEventListener("load",(function(){r.pngs.push(o),console.log("loaded",o.name),++t===e.length&&x()})),o.element.src=e[n].src},o=0;o<e.length;o++)n(o)}([{name:"marine",src:"./media/marine.png"},{name:"commandCenter",src:"./media/commandCenter.png"}])}]);