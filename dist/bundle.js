!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){},function(e,t,n){"use strict";n.r(t);var r={pngs:[],units:[{player:"PLAYER1",name:"test1",type:"marine",speed:2,x:500,y:300,xvel:0,yvel:0,radius:15,color:"#00ff00",moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{player:"PLAYER1",name:"test2",type:"marine",speed:2,x:550,y:350,xvel:0,yvel:0,radius:15,color:"#00ff00",moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0}],buildings:[{player:"PLAYER1",name:"test0",type:"commandCenter",x:350,y:550,sizex:30,sizey:40,color:"#ff0000"}],resources:[{type:"mineral",x:0,y:700,value:1500},{type:"mineral",x:37,y:650,value:1500},{type:"mineral",x:0,y:600,value:1500},{type:"mineral",x:37,y:550,value:1500},{type:"mineral",x:0,y:500,value:1500}],selectedBuildings:[],preSelectedBuildings:[],selectedUnits:[],preSelectedUnits:[]},o=function(e,t){if(0===e&&0===t)return 0;return t>0&&e>0?t/e>3?0:t/e<1/3?6:7:t<0&&e>0?t/e<-3?4:t/e>-1/3?6:5:t<0&&e<0?t/e<1/3?2:t/e>3?4:3:t>0&&e<0?t/e>-1/3?2:t/e<-3?0:1:void 0};var i=function(e,t){for(var n=0;n<t.length;n++)if(t[n].name!==e.name&&Math.sqrt(Math.pow(t[n].x-(e.x+e.xvel),2)+Math.pow(t[n].y-(e.y+e.yvel),2))<t[n].radius+e.radius)return!0;return!1};n(0);var a=document.querySelector("#root"),l=a.getContext("2d"),u={ctx:l,height:a.height,width:a.width},s={xStart:0,yStart:0,xEnd:0,yEnd:0},c=Date.now(),d=function(){!function(e,t){function n(a){e.removeEventListener("mouseup",n,!1),e.removeEventListener("mousemove",o,!1);var l=t.xStart,u=t.xEnd,s=t.yStart,c=t.yEnd,d=l<u?l:u,y=l<u?u:l,f=s<c?s:c,m=s<c?c:s;r.selectedUnits=r.units.filter((function(e){return e.x>d&&e.x<y&&e.y>f&&e.y<m})),r.preSelectedUnits=[],t.xStart=0,t.yStart=0,t.xEnd=0,t.yEnd=0,r.selectedUnits.length&&e.addEventListener("mousedown",i,!1)}function o(e){t.xEnd=e.clientX,t.yEnd=e.clientY;var n=t.xStart,o=t.xEnd,i=t.yStart,a=t.yEnd,l=n<o?n:o,u=n<o?o:n,s=i<a?i:a,c=i<a?a:i;r.preSelectedUnits=r.units.filter((function(e){return e.x>l&&e.x<u&&e.y>s&&e.y<c}))}function i(t){2===t.button?r.selectedUnits.forEach((function(e){var n=e.x-t.clientX,r=e.y-t.clientY;Math.abs(n)>Math.abs(r)?(e.xvel=-n/Math.abs(n)*e.speed,e.yvel=-r/Math.abs(n)*e.speed):(e.xvel=-n/Math.abs(r)*e.speed,e.yvel=-r/Math.abs(r)*e.speed),e.moveCommand=!0,e.gotoX=t.clientX,e.gotoY=t.clientY})):e.removeEventListener("mousedown",i,!1)}window.oncontextmenu=function(){return!1},e.addEventListener("mousedown",(function(r){0===r.button&&(t.xStart=r.clientX,t.yStart=r.clientY,t.xEnd=r.clientX,t.yEnd=r.clientY,e.addEventListener("mouseup",n,!1),e.addEventListener("mousemove",o,!1))}),!1)}(a,s)},y=function(){var e,t,n,d=Date.now();(d-c)/1e3,l.fillStyle="#665f4a",l.fillRect(0,0,a.width,a.height),function(e){for(var t=e.filter((function(e){return 0!==e.xvel||0!==e.yvel})),n=0;n<t.length;n++){Math.pow(t[n].x-t[n].gotoX,2)+Math.pow(t[n].y-t[n].gotoY,2)<100&&(t[n].xvel=0,t[n].yvel=0,t[n].moveCommand=!1);var r=i(t[n],e);!r&&t[n].moveCommand&&(t[n].x=t[n].x+t[n].xvel,t[n].y=t[n].y+t[n].yvel),r&&t[n].moveCommand&&(t[n].moveCommand=!1),r||t[n].moveCommand||(t[n].moveCommand=!0)}}(r.units),t=s,n=(e=u).ctx,e.width,e.height,r.buildings.forEach((function(e){n.drawImage(r.pngs.filter((function(t){return t.type===e.type}))[0].element,e.x,e.y)})),r.units.forEach((function(e){n.drawImage(r.pngs.filter((function(t){return t.type===e.type}))[0].element,50*o(e.xvel,e.yvel),0,50,49,e.x-17,e.y-17,34,34)})),r.resources.forEach((function(e){n.drawImage(r.pngs.filter((function(t){return t.type===e.type}))[0].element,e.x,e.y,75,50)})),n.drawImage(r.pngs.filter((function(e){return"menu"===e.type}))[0].element,0,800),r.selectedBuildings.forEach((function(e){n.beginPath(),n.arc(e.x+.5*e.sizex,e.y+.5*e.sizey,(e.sizex+e.sizey)/2,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=2,n.stroke()})),r.preSelectedBuildings.forEach((function(e){n.beginPath(),n.arc(e.x+.5*e.sizex,e.y+.5*e.sizey,(e.sizex+e.sizey)/2,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=1,n.stroke()})),r.selectedUnits.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.radius+5,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=2,n.stroke()})),r.preSelectedUnits.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.radius+5,0,2*Math.PI,!1),n.strokeStyle=" #00ff00",n.lineWidth=1,n.stroke()})),n.strokeStyle=" #00ff00",n.strokeRect(t.xStart,t.yStart,t.xEnd-t.xStart,t.yEnd-t.yStart),window.requestAnimationFrame(y)},f=function(){y(),d()};!function(e){for(var t=0,n=function(n){var o={type:e[n].type,element:new Image};o.element.addEventListener("load",(function(){r.pngs.push(o),console.log("loaded",o.type),++t===e.length&&f()})),o.element.src=e[n].src},o=0;o<e.length;o++)n(o)}([{type:"marine",src:"./media/marine.png"},{type:"commandCenter",src:"./media/commandCenter.png"},{type:"mineral",src:"./media/minerals.png"},{type:"menu",src:"./media/menu.png"}])}]);