!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){},function(e,t,n){"use strict";n.r(t);var o={units:[{name:"test1",x:400,y:200,xvel:1,yvel:1,sizex:30,sizey:40,color:"#0044ff",moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0},{name:"test2",x:600,y:600,xvel:1,yvel:1,sizex:30,sizey:40,color:"#0044ff",moveCommand:!1,attackCommand:!1,gotoX:0,gotoY:0}],selectedUnits:[]};function i(e,t){for(var n=0;n<t.length;n++)if(t[n].name!==e.name&&(r(t[n].x,t[n].x+t[n].sizex,e.x+e.xvel)&&r(t[n].y,t[n].y+t[n].sizey,e.y+e.yvel)||r(t[n].x,t[n].x+t[n].sizex,e.x+e.sizex+e.xvel)&&r(t[n].y,t[n].y+t[n].sizey,e.y+e.yvel)||r(t[n].x,t[n].x+t[n].sizex,e.x+e.xvel)&&r(t[n].y,t[n].y+t[n].sizey,e.y+e.sizey+e.yvel)||r(t[n].x,t[n].x+t[n].sizex,e.x+e.sizex+e.xvel)&&r(t[n].y,t[n].y+t[n].sizey,e.y+e.sizey+e.yvel)))return!0;return!1}function r(e,t,n){return n>e&&n<t}n(0);var l=document.querySelector("#root"),a=l.getContext("2d"),s={ctx:a,height:l.height,width:l.width},c={xStart:0,yStart:0,xEnd:0,yEnd:0},u=Date.now(),y=0,d=0,f=function(){var e,t,n,r=Date.now();y=(r-u)/1e3,Math.floor(y/.01)>d&&(d++,a.fillStyle="#000000",a.fillRect(0,0,l.width,l.height),function(e){for(var t=e.filter((function(e){return 0!==e.xvel||0!==e.yvel})),n=0;n<t.length;n++){console.log("colision",i(t[n],e)),Math.pow(t[n].x-t[n].gotoX,2)+Math.pow(t[n].y-t[n].gotoY,2)<100&&(t[n].xvel=0,t[n].yvel=0,t[n].moveCommand=!1);var o=i(t[n],e);!o&&t[n].moveCommand&&(t[n].x=t[n].x+t[n].xvel,t[n].y=t[n].y+t[n].yvel),o&&t[n].moveCommand&&(t[n].moveCommand=!1),o||t[n].moveCommand||(t[n].moveCommand=!0)}}(o.units),t=c,n=(e=s).ctx,e.width,e.height,o.units.forEach((function(e){n.fillStyle=e.color,n.fillRect(e.x,e.y,e.sizex,e.sizey)})),o.selectedUnits.forEach((function(e){n.beginPath(),n.arc(e.x+.5*e.sizex,e.y+.5*e.sizey,(e.sizex+e.sizey)/2,0,2*Math.PI,!1),n.strokeStyle="#f6ff00",n.lineWidth=2,n.stroke()})),n.strokeStyle="#f6ff00",n.strokeRect(t.xStart,t.yStart,t.xEnd-t.xStart,t.yEnd-t.yStart)),window.requestAnimationFrame(f)};f(),function(e,t){function n(l){e.removeEventListener("mouseup",n,!1),e.removeEventListener("mousemove",i,!1);var a=t.xStart,s=t.xEnd,c=t.yStart,u=t.yEnd,y=a<s?a:s,d=a<s?s:a,f=c<u?c:u,x=c<u?u:c;o.selectedUnits=o.units.filter((function(e){return e.x>y&&e.x<d&&e.y>f&&e.y<x})),t.xStart=0,t.yStart=0,t.xEnd=0,t.yEnd=0,o.selectedUnits.length&&e.addEventListener("mousedown",r,!1)}function i(e){t.xEnd=e.clientX,t.yEnd=e.clientY}function r(t){2===t.button?(console.log(t.clientX,t.clientY),o.selectedUnits.forEach((function(e){var n=e.x-t.clientX,o=e.y-t.clientY;Math.abs(n)>Math.abs(o)?(e.xvel=-n/Math.abs(n),e.yvel=-o/Math.abs(n)):(e.xvel=-n/Math.abs(o),e.yvel=-o/Math.abs(o)),e.moveCommand=!0,e.gotoX=t.clientX,e.gotoY=t.clientY}))):e.removeEventListener("mousedown",r,!1)}window.oncontextmenu=function(){return!1},e.addEventListener("mousedown",(function(r){console.log("sel",o.selectedUnits),0===r.button&&(console.log(r),t.xStart=r.clientX,t.yStart=r.clientY,t.xEnd=r.clientX,t.yEnd=r.clientY,e.addEventListener("mouseup",n,!1),e.addEventListener("mousemove",i,!1))}),!1)}(l,c)}]);